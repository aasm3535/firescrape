<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FireScrape Docs</title>
  <link rel="stylesheet" href="/style.css">
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    body { display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
    .docs-layout { display: flex; flex: 1; overflow: hidden; }
    
    /* Sidebar */
    .docs-sidebar {
      width: 250px;
      background: var(--card);
      border-right: 1px solid var(--border);
      padding: 2rem 1.5rem;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }
    
    .docs-nav-group { margin-bottom: 2rem; }
    .docs-nav-title { 
      font-size: 0.75rem; 
      font-weight: 700; 
      text-transform: uppercase; 
      color: var(--muted-foreground); 
      margin-bottom: 0.75rem; 
      letter-spacing: 0.05em;
    }
    
    .docs-link {
      display: block;
      color: var(--foreground);
      text-decoration: none;
      padding: 0.4rem 0;
      font-size: 0.9rem;
      transition: color 0.2s;
    }
    .docs-link:hover, .docs-link.active { color: var(--primary); font-weight: 500; }
    
    /* Main Content */
    .docs-main {
      flex: 1;
      padding: 2rem 4rem;
      overflow-y: auto;
      max-width: 900px;
    }

    /* Typography Overrides */
    .docs-main h1 { font-size: 2.25rem; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border); }
    .docs-main h2 { font-size: 1.5rem; margin-top: 2.5rem; margin-bottom: 1rem; }
    .docs-main h3 { font-size: 1.15rem; margin-top: 1.5rem; margin-bottom: 0.75rem; }
    .docs-main p { line-height: 1.7; margin-bottom: 1rem; }
    .docs-main code { 
      background: var(--secondary); 
      padding: 0.2rem 0.4rem; 
      border-radius: 4px; 
      font-family: 'Menlo', monospace; 
      font-size: 0.85em; 
      color: var(--primary);
    }
    
    /* Endpoint Badge */
    .endpoint {
      display: flex;
      align-items: center;
      gap: 1rem;
      background: var(--secondary);
      padding: 0.75rem;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      font-family: 'Menlo', monospace;
      margin-bottom: 1.5rem;
    }
    .method { font-weight: 700; color: #16a34a; } /* GET is green */
    
    table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; font-size: 0.9rem; }
    th, td { text-align: left; padding: 0.75rem; border-bottom: 1px solid var(--border); }
    th { color: var(--muted-foreground); font-weight: 500; }

    @media (max-width: 768px) {
      .docs-layout { flex-direction: column; }
      .docs-sidebar { width: 100%; border-right: none; border-bottom: 1px solid var(--border); height: auto; padding: 1rem; }
      .docs-main { padding: 1.5rem; }
      body { height: auto; overflow: auto; }
    }
  </style>
</head>
<body class="light">

  <nav class="navbar" style="padding: 1rem 1.5rem; margin: 0; border-bottom: 1px solid var(--border);">
    <a href="/" class="logo">
      <i data-lucide="flame" style="color: var(--primary)"></i>
      FireScrape <span style="font-weight: 400; color: var(--muted-foreground); margin-left: 8px;">Docs</span>
    </a>
    <div class="flex gap-2">
      <a href="/playground" class="btn btn-primary btn-sm" style="font-size: 0.8rem; height: 2rem;">Playground</a>
      <button onclick="toggleTheme()" class="btn btn-ghost"><i data-lucide="moon" id="theme-icon" width="16"></i></button>
    </div>
  </nav>

  <div class="docs-layout">
    <aside class="docs-sidebar">
      <div class="docs-nav-group">
        <div class="docs-nav-title">Introduction</div>
        <a href="#introduction" class="docs-link active">Getting Started</a>
        <a href="#authentication" class="docs-link">Authentication</a>
      </div>
      
      <div class="docs-nav-group">
        <div class="docs-nav-title">Endpoints</div>
        <a href="#scrape" class="docs-link">/api/scrape</a>
        <a href="#search" class="docs-link">/api/search</a>
      </div>

      <div class="docs-nav-group">
        <div class="docs-nav-title">Errors</div>
        <a href="#errors" class="docs-link">Error Codes</a>
      </div>
    </aside>

    <main class="docs-main">
      
      <section id="introduction">
        <h1>Introduction</h1>
        <p>FireScrape is a serverless-ready API built to simplify web scraping. It handles the complexity of headless browsers, user-agent rotation, and CAPTCHA detection, returning clean JSON data.</p>
        <p>Base URL: <code>https://your-project.vercel.app</code></p>
      </section>

      <section id="authentication">
        <h2>Authentication</h2>
        <p>Currently, the API is open and does not require an API key for basic usage. Rate limits apply based on the hosting provider (Vercel).</p>
      </section>

      <section id="scrape">
        <h2>Scrape URL</h2>
        <p>Extracts metadata, content, and structured data (JSON-LD) from a webpage.</p>
        
        <div class="endpoint">
          <span class="method">GET</span>
          <span>/api/scrape</span>
        </div>

        <h3>Parameters</h3>
        <table>
          <thead><tr><th>Param</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
          <tbody>
            <tr>
              <td><code>url</code></td>
              <td>string</td>
              <td>Yes</td>
              <td>The target URL to scrape (e.g., https://example.com).</td>
            </tr>
          </tbody>
        </table>

        <h3>Response</h3>
        <pre><span class="key">"success"</span>: <span class="boolean">true</span>,
<span class="key">"data"</span>: {
  <span class="key">"url"</span>: <span class="string">"https://example.com"</span>,
  <span class="key">"meta"</span>: {
    <span class="key">"title"</span>: <span class="string">"Example Domain"</span>,
    <span class="key">"description"</span>: <span class="string">"..."</span>
  },
  <span class="key">"structured_data"</span>: [ ... ], <span class="string">// JSON-LD or Next.js data</span>
  <span class="key">"content_preview"</span>: <span class="string">"Full text content..."</span>
}</pre>
      </section>

      <section id="search">
        <h2>Web Search</h2>
        <p>Performs a privacy-friendly web search (via DuckDuckGo) and returns results in JSON.</p>

        <div class="endpoint">
          <span class="method">GET</span>
          <span>/api/search</span>
        </div>

        <h3>Parameters</h3>
        <table>
          <thead><tr><th>Param</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
          <tbody>
            <tr>
              <td><code>q</code></td>
              <td>string</td>
              <td>Yes</td>
              <td>The search query (e.g., "bun js").</td>
            </tr>
          </tbody>
        </table>

        <h3>Response</h3>
        <pre><span class="key">"success"</span>: <span class="boolean">true</span>,
<span class="key">"results"</span>: [
  {
    <span class="key">"title"</span>: <span class="string">"Bun â€” A fast all-in-one JavaScript runtime"</span>,
    <span class="key">"link"</span>: <span class="string">"https://bun.sh/"</span>,
    <span class="key">"snippet"</span>: <span class="string">"Bun is a fast..."</span>
  }
]</pre>
      </section>

      <section id="errors">
        <h2>Errors</h2>
        <p>The API uses standard HTTP status codes to indicate success or failure.</p>
        <table>
          <thead><tr><th>Code</th><th>Meaning</th><th>Description</th></tr></thead>
          <tbody>
            <tr><td>200</td><td>OK</td><td>Request succeeded.</td></tr>
            <tr><td>400</td><td>Bad Request</td><td>Missing parameters (e.g., no URL).</td></tr>
            <tr><td>403</td><td>Forbidden</td><td>Target site blocked the scraper.</td></tr>
            <tr><td>429</td><td>Too Many Requests</td><td>Target site detected a bot (CAPTCHA).</td></tr>
            <tr><td>500</td><td>Internal Error</td><td>Server-side parsing error.</td></tr>
          </tbody>
        </table>
      </section>

      <footer style="margin-top: 4rem; padding-top: 2rem; border-top: 1px solid var(--border); color: var(--muted-foreground); font-size: 0.85rem;">
        FireScrape Documentation v2.0
      </footer>
    </main>
  </div>

  <script>
    lucide.createIcons();
    
    // Smooth scroll for sidebar
    document.querySelectorAll('.docs-link').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelectorAll('.docs-link').forEach(l => l.classList.remove('active'));
        this.classList.add('active');
        document.querySelector(this.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
        });
      });
    });

    function toggleTheme() {
      document.body.classList.toggle('dark');
      lucide.createIcons();
    }
    // Auto-detect
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.body.classList.add('dark');
    }
  </script>
</body>
</html>
